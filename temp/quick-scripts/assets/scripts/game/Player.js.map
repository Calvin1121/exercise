{"version":3,"sources":["Player.js"],"names":["cc","Class","extends","Component","properties","accel","initPlayer","name","find","node","y","height","parent","zIndex","setPosition","onKeyDown","event","keyBoardEvent","onKeyUp","type","keyCode","accLeft","accRight","movePlayer","dt","width","x","Math","pow","onLoad","systemEvent","on","SystemEvent","EventType","KEY_DOWN","KEY_UP","start","update"],"mappings":";;;;;;AAAAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,eAAO;AADC,KAHP;;AAOL;AACAC,cARK,wBAQO;AACR,YAAIC,OAAOP,GAAGQ,IAAH,CAAQ,MAAR,EAAgB,KAAKC,IAArB,CAAX;AACA,aAAKA,IAAL,CAAUC,CAAV,GAAc,KAAKD,IAAL,CAAUE,MAAV,GAAmBJ,KAAKI,MAAL,GAAY,CAA/B,GAAkC,KAAKF,IAAL,CAAUG,MAAV,CAAiBD,MAAjB,GAAwB,CAAxE;AACA,aAAKF,IAAL,CAAUI,MAAV,GAAmB,CAAnB;AACAN,aAAKO,WAAL,CAAiB,CAAjB,EAAoB,CAACP,KAAKI,MAAN,GAAa,CAAjC;AACA,aAAKF,IAAL,CAAUI,MAAV,GAAmB,CAAnB;AACH,KAdI;AAeLE,aAfK,qBAeKC,KAfL,EAeW;AACZ,aAAKC,aAAL,CAAmB,MAAnB;AACH,KAjBI;AAkBLC,WAlBK,mBAkBGF,KAlBH,EAkBS;AACV,aAAKC,aAAL,CAAmB,QAAnB;AACH,KApBI;AAqBLA,iBArBK,yBAqBSE,IArBT,EAqBc;AACf,YAAGH,MAAMI,OAAN,IAAiB,EAApB,EAAuB;AACnB,iBAAKC,OAAL,GAAeF,QAAQ,MAAR,GAAe,IAAf,GAAoB,KAAnC;AACH,SAFD,MAEM,IAAGH,MAAMI,OAAN,IAAiB,EAApB,EAAuB;AACzB,iBAAKE,QAAL,GAAgBH,QAAQ,MAAR,GAAe,IAAf,GAAoB,KAApC;AACH;AACJ,KA3BI;AA4BLI,cA5BK,sBA4BMC,EA5BN,EA4BS;AACV,YAAIC,QAAQ,KAAKhB,IAAL,CAAUG,MAAV,CAAiBa,KAA7B;AACA,YAAG,KAAKJ,OAAR,EAAgB;AACZ,gBAAG,KAAKZ,IAAL,CAAUiB,CAAV,GAAc,KAAKjB,IAAL,CAAUgB,KAAV,GAAgB,CAAhB,GAAoBA,QAAM,CAA3C,EAA6C;AACzC,qBAAKhB,IAAL,CAAUiB,CAAV,IAAe,KAAKrB,KAAL,GAAasB,KAAKC,GAAL,CAASJ,EAAT,EAAa,CAAb,CAA5B;AACH,aAFD,MAEK;AACD,qBAAKf,IAAL,CAAUiB,CAAV,GAAc,KAAKjB,IAAL,CAAUgB,KAAV,GAAgB,CAAhB,GAAoBA,QAAM,CAAxC;AACH;AACJ;AACD,YAAG,KAAKH,QAAR,EAAiB;AACb,gBAAG,KAAKb,IAAL,CAAUiB,CAAV,GAAcD,QAAM,CAAN,GAAU,KAAKhB,IAAL,CAAUgB,KAAV,GAAgB,CAA3C,EAA6C;AACzC,qBAAKhB,IAAL,CAAUiB,CAAV,IAAe,KAAKrB,KAAL,GAAasB,KAAKC,GAAL,CAASJ,EAAT,EAAa,CAAb,CAA5B;AACH,aAFD,MAEK;AACD,qBAAKf,IAAL,CAAUiB,CAAV,GAAcD,QAAM,CAAN,GAAU,KAAKhB,IAAL,CAAUgB,KAAV,GAAgB,CAAxC;AACH;AACJ;AACJ,KA5CI;AA6CLI,UA7CK,oBA6CK;AACN,aAAKvB,UAAL;AACAN,WAAG8B,WAAH,CAAeC,EAAf,CAAkB/B,GAAGgC,WAAH,CAAeC,SAAf,CAAyBC,QAA3C,EAAqD,KAAKnB,SAA1D,EAAqE,IAArE;AACAf,WAAG8B,WAAH,CAAeC,EAAf,CAAkB/B,GAAGgC,WAAH,CAAeC,SAAf,CAAyBE,MAA3C,EAAmD,KAAKjB,OAAxD,EAAiE,IAAjE;AACH,KAjDI;AAmDLkB,SAnDK,mBAmDI,CAER,CArDI;AAuDLC,UAvDK,kBAuDGb,EAvDH,EAuDO;AACR,aAAKD,UAAL,CAAgBC,EAAhB;AACH;AAzDI,CAAT","file":"Player.js","sourceRoot":"../../../../../assets/scripts/game","sourcesContent":["cc.Class({\n    extends: cc.Component,\n\n    properties: {\n        accel: 0,\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n    initPlayer(){\n        let name = cc.find('name', this.node);\n        this.node.y = this.node.height + name.height/2 -this.node.parent.height/2;\n        this.node.zIndex = 1;\n        name.setPosition(0, -name.height*3);\n        this.node.zIndex = 1;\n    },\n    onKeyDown(event){\n        this.keyBoardEvent('done');\n    },\n    onKeyUp(event){\n        this.keyBoardEvent('cancel');\n    },\n    keyBoardEvent(type){\n        if(event.keyCode == 37){\n            this.accLeft = type == 'done'?true:false;\n        }else if(event.keyCode == 39){\n            this.accRight = type == 'done'?true:false;\n        };\n    },\n    movePlayer(dt){\n        let width = this.node.parent.width;\n        if(this.accLeft){\n            if(this.node.x > this.node.width/2 - width/2){\n                this.node.x -= this.accel * Math.pow(dt, 2);\n            }else{\n                this.node.x = this.node.width/2 - width/2;\n            }\n        };\n        if(this.accRight){\n            if(this.node.x < width/2 - this.node.width/2){\n                this.node.x += this.accel * Math.pow(dt, 2);\n            }else{\n                this.node.x = width/2 - this.node.width/2;\n            }\n        };\n    },\n    onLoad () {\n        this.initPlayer();\n        cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN, this.onKeyDown, this);\n        cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP, this.onKeyUp, this);   \n    },\n\n    start () {\n\n    },\n\n    update (dt) {\n        this.movePlayer(dt);\n    },\n});\n"]}