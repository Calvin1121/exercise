{"version":3,"sources":["../../../../assets/scripts/assets/scripts/Loading.js"],"names":["flag","cc","Class","extends","Component","properties","loadingbar","default","type","ProgressBar","words","Label","visible","initLoading","width","Math","ceil","node","height","find","bar","word","y","x","string","loading","timer","setInterval","parent","clearInterval","director","loadScene","destroy","onLoad","start","update","dt"],"mappings":";;;;;;AAAA,IAAIA,IAAJ;AACAC,GAAGC,KAAH,CAAS;AACRC,UAASF,GAAGG,SADJ;;AAGRC,aAAY;AACXC,cAAY;AACXC,YAAS,IADE;AAEXC,SAAMP,GAAGQ;AAFE,GADD;AAKXC,SAAO;AACNH,YAAS,IADH;AAENC,SAAMP,GAAGU,KAFH;AAGNC,YAAS;AAHH;AALI,EAHJ;;AAeR;AACAC,YAhBQ,yBAgBK;AACZ,MAAIC,QAAQC,KAAKC,IAAL,CAAU,KAAKC,IAAL,CAAUH,KAAV,GAAkB,GAA5B,CAAZ;AAAA,MACCI,SAAS,KAAKD,IAAL,CAAUC,MAAV,GAAiB,CAD3B;AAAA,MAECZ,aAAaL,GAAGkB,IAAH,CAAQ,YAAR,EAAsB,KAAKF,IAA3B,CAFd;AAAA,MAGCG,MAAMnB,GAAGkB,IAAH,CAAQ,gBAAR,EAA0B,KAAKF,IAA/B,CAHP;AAAA,MAICI,OAAOpB,GAAGkB,IAAH,CAAQ,OAAR,EAAiB,KAAKF,IAAtB,CAJR;AAKAX,aAAWQ,KAAX,GAAmBA,KAAnB;AACAR,aAAWgB,CAAX,GAAehB,WAAWY,MAA1B;AACAE,MAAIG,CAAJ,GAAQ,CAACT,KAAD,GAAO,CAAf;AACAO,OAAKG,MAAL,GAAc,YAAd;AACAH,OAAKC,CAAL,GAAS,CAAChB,WAAWY,MAArB;AACA,EA3BO;AA4BRO,QA5BQ,qBA4BC;AAAA;;AACR,MAAIL,MAAMnB,GAAGkB,IAAH,CAAQ,gBAAR,EAA0B,KAAKF,IAA/B,CAAV;AACA,MAAIS,QAAQC,YAAY,YAAI;AAC3B,OAAGP,IAAIN,KAAJ,GAAUM,IAAIQ,MAAJ,CAAWd,KAAxB,EAA8B;AAC7BM,QAAIN,KAAJ;AACA;AACD,OAAGM,IAAIN,KAAJ,IAAaM,IAAIQ,MAAJ,CAAWd,KAAX,GAAiB,GAAjC,EAAqC;AACpCe,kBAAcH,KAAd;AACAzB,OAAG6B,QAAH,CAAYC,SAAZ,CAAsB,MAAtB;AACA,UAAKd,IAAL,CAAUe,OAAV;AACA;AACD,GATW,EASV,EATU,CAAZ;AAWA,EAzCO;AA0CRC,OA1CQ,oBA0CE;AACT,OAAKpB,WAAL;AACA,EA5CO;AA8CRqB,MA9CQ,mBA8CC;AACR,OAAKT,OAAL;AACA,EAhDO;AAkDRU,OAlDQ,kBAkDAC,EAlDA,EAkDI,CAEX;AApDO,CAAT","file":"Loading.js","sourceRoot":"../../../../assets/scripts","sourcesContent":["var flag;\ncc.Class({\n\textends: cc.Component,\n\n\tproperties: {\n\t\tloadingbar: {\n\t\t\tdefault: null,\n\t\t\ttype: cc.ProgressBar\n\t\t},\n\t\twords: {\n\t\t\tdefault: null,\n\t\t\ttype: cc.Label,\n\t\t\tvisible: false\n\t\t}\n\t},\n\n\t// LIFE-CYCLE CALLBACKS:\n\tinitLoading(){\n\t\tlet width = Math.ceil(this.node.width * 0.8),\n\t\t\theight = this.node.height/2,\n\t\t\tloadingbar = cc.find('LoadingBar', this.node),\n\t\t\tbar = cc.find('LoadingBar/bar', this.node),\n\t\t\tword = cc.find('Words', this.node);\n\t\tloadingbar.width = width;\n\t\tloadingbar.y = loadingbar.height;\n\t\tbar.x = -width/2;\n\t\tword.string = 'Loading...';\n\t\tword.y = -loadingbar.height;\n\t},\n\tloading(){\n\t\tlet bar = cc.find('LoadingBar/bar', this.node);\n\t\tlet timer = setInterval(()=>{\n\t\t\tif(bar.width<bar.parent.width){\n\t\t\t\tbar.width++;\n\t\t\t};\n\t\t\tif(bar.width >= bar.parent.width-0.5){\n\t\t\t\tclearInterval(timer);\n\t\t\t\tcc.director.loadScene(\"Game\");\n\t\t\t\tthis.node.destroy();\n\t\t\t};\n\t\t},10);\n\t\t\n\t},\n\tonLoad () {\n\t\tthis.initLoading();\n\t},\n\n\tstart () {\n\t\tthis.loading();\n\t},\n\n\tupdate (dt) {\n\t\t\n\t},\n});\n"]}